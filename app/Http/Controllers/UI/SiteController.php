<?php

namespace App\Http\Controllers\UI;

use App\Http\Controllers\Controller;
use App\Models\Post;
use Config;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\DB;
use Route;
use Session;

class SiteController extends Controller
{

##################################################################################################################
#  ██████╗ ██████╗ ███╗   ██╗███████╗████████╗██████╗ ██╗   ██╗ ██████╗████████╗
# ██╔════╝██╔═══██╗████╗  ██║██╔════╝╚══██╔══╝██╔══██╗██║   ██║██╔════╝╚══██╔══╝
# ██║     ██║   ██║██╔██╗ ██║███████╗   ██║   ██████╔╝██║   ██║██║        ██║   
# ██║     ██║   ██║██║╚██╗██║╚════██║   ██║   ██╔══██╗██║   ██║██║        ██║   
# ╚██████╗╚██████╔╝██║ ╚████║███████║   ██║   ██║  ██║╚██████╔╝╚██████╗   ██║   
#  ╚═════╝ ╚═════╝ ╚═╝  ╚═══╝╚══════╝   ╚═╝   ╚═╝  ╚═╝ ╚═════╝  ╚═════╝   ╚═╝   
##################################################################################################################
	public function __construct()
	{
		// $this->middleware('auth');
	}


##################################################################################################################
# ██╗  ██╗ ██████╗ ███╗   ███╗███████╗██████╗  █████╗  ██████╗ ███████╗
# ██║  ██║██╔═══██╗████╗ ████║██╔════╝██╔══██╗██╔══██╗██╔════╝ ██╔════╝
# ███████║██║   ██║██╔████╔██║█████╗  ██████╔╝███████║██║  ███╗█████╗  
# ██╔══██║██║   ██║██║╚██╔╝██║██╔══╝  ██╔═══╝ ██╔══██║██║   ██║██╔══╝  
# ██║  ██║╚██████╔╝██║ ╚═╝ ██║███████╗██║     ██║  ██║╚██████╔╝███████╗
# ╚═╝  ╚═╝ ╚═════╝ ╚═╝     ╚═╝╚══════╝╚═╝     ╚═╝  ╚═╝ ╚═════╝ ╚══════╝
##################################################################################################################
	public function index()
	{
      // Set the session to the current page route
      Session::put('fromPage', url()->full());

		$posts = Post::published()->with('user')->orderBy('id','desc')->take(Config::get('settings.homepage_blog_count'))->get();
		$greeting   = DB::table('general')->where('name', '=', 'greeting')->first();
      $newUser    = DB::table('general')->where('name', '=', 'newUser')->first();
      $carvings   = DB::table('general')->where('name', '=', 'carvings')->first();
      $projects   = DB::table('general')->where('name', '=', 'projects')->first();
      $recipes    = DB::table('general')->where('name', '=', 'recipes')->first();
      $blogs      = DB::table('general')->where('name', '=', 'blog')->first();

		return view('UI.homepage', compact('posts','greeting','newUser','carvings','projects','recipes','blogs'));
	}


##################################################################################################################
#  █████╗ ██████╗  ██████╗ ██╗   ██╗████████╗
# ██╔══██╗██╔══██╗██╔═══██╗██║   ██║╚══██╔══╝
# ███████║██████╔╝██║   ██║██║   ██║   ██║   
# ██╔══██║██╔══██╗██║   ██║██║   ██║   ██║   
# ██║  ██║██████╔╝╚██████╔╝╚██████╔╝   ██║   
# ╚═╝  ╚═╝╚═════╝  ╚═════╝  ╚═════╝    ╚═╝  
##################################################################################################################
	public function about()
	{
		return view('UI.about');
	}


##################################################################################################################
# ████████╗███████╗██████╗ ███╗   ███╗███████╗
# ╚══██╔══╝██╔════╝██╔══██╗████╗ ████║██╔════╝
#    ██║   █████╗  ██████╔╝██╔████╔██║███████╗
#    ██║   ██╔══╝  ██╔══██╗██║╚██╔╝██║╚════██║
#    ██║   ███████╗██║  ██║██║ ╚═╝ ██║███████║
#    ╚═╝   ╚══════╝╚═╝  ╚═╝╚═╝     ╚═╝╚══════╝
##################################################################################################################
	public function terms()
	{
		return view('UI.termsAndConditions');
	}


##################################################################################################################
# ██████╗ ██████╗ ██╗██╗   ██╗ █████╗  ██████╗██╗   ██╗
# ██╔══██╗██╔══██╗██║██║   ██║██╔══██╗██╔════╝╚██╗ ██╔╝
# ██████╔╝██████╔╝██║██║   ██║███████║██║      ╚████╔╝ 
# ██╔═══╝ ██╔══██╗██║╚██╗ ██╔╝██╔══██║██║       ╚██╔╝  
# ██║     ██║  ██║██║ ╚████╔╝ ██║  ██║╚██████╗   ██║   
# ╚═╝     ╚═╝  ╚═╝╚═╝  ╚═══╝  ╚═╝  ╚═╝ ╚═════╝   ╚═╝   
##################################################################################################################
	public function privacy()
	{
		return view('UI.privacyPolicy');
	}


}
